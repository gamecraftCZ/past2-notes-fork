\chapter{Critical graphs}

\begin{defn}
	\textbf{Girth} of a graph is the size of the shortest induced cycle.
\end{defn}

\begin{defn}
	A graph $G$ is $k$-critical if $\chi(G) = c$ and for every proper subgraph $H \subsetneq G$ is $(c-1)$-colorable.
\end{defn}

\TODO{Second lecture skipped for now.}

\begin{thm}
	If $G$ is $(c+1)$-critical for $c \geq 3$ and $G \neq K_{c+1}$ then the average degree is
	
	$$
	\bar{d}(G) \geq c + \frac{c-2}{c^2 - 2c -2} \approx c + \frac{1}{c} \quad (\text{for large } c)
	$$
\end{thm}

\section{Coloring graph on a surface}

\begin{table}[!ht]\centering
	\begin{tabular}{c|c|c|c|c|c}
		\# of colors & 3 & 4 & 5 & 6 & $\geq 7$ \\
		\hline
		general & NP & ? & P & P & P \\
		triangle-free & P, $\ast$ & P & P & P & P \\
		girth $> 4$ & P & P & P & P & P
	\end{tabular}
	\caption{What is NP and P problem for coloring graph on surfaces. \small{$\ast$ but infinitely many 4-critical triangle-free graphs.}}
\end{table}

\begin{observ}
	Now recall \ref{avg-deg} therefore if $|V(G)| > 6(g-2)$ then $\delta(G) < 6$. Hence there exists an $O(n + f(g))$ algorithm to decide 7-colorability.
\end{observ}

Now for 6 colors we consider $G$ a 7-critical graph, then $G = K_7$ or $\bar{d} \geq 6 + \frac{2}{23}$. If $G$ is on surface of euler genus $g$ then $6 + \frac{2}{23} \leq \bar{d}(G) \leq 6 + \frac{6(g+2)}{|V(G)|}$. Therefore we see that $|V(G)| \leq 69(g-2)$.

\begin{cor}
	For any surface $\Sigma$, there are finitely many $7$-critical graphs that can be drawn on $\Sigma$.
\end{cor}

Therefore we are able only to check finitely many number of graphs for the 6-colorabi-\\lity algorithm. Also there can be used \textbf{Epstein's} result which is $O(n)$ test for fixed $F, \Sigma$ whether $F \subseteq G$.

\subsection{Triangle-free $G$}

\begin{thm}[GrÃ¶tsch]
	Every planar triangle-free graph is 3-colorable.
	\label{thm-grotsch}
\end{thm}

\begin{lemma}
	If $G$ is drawn os surface of Euler genus $g$, $G$ is triangle-free then
	
	$$
	\bar{d}(G) \leq 4 + \frac{4 (g+2)}{|V(G)|}.
	$$
\end{lemma}

\begin{observ}
	If $|V(G)| > 4(g-2)$, then $\delta(G) \leq 4$. Thus the algorithm for 5-colorability.
\end{observ}

\begin{lemma}
	Suppose $G$ is quadrangulation of the projective plane and $G$ is not bipartite. For every proper coloring of $G$ there exists a face of $G$ whose vertices have four different colors. ($\Rightarrow \chi(G) \geq 4$)
\end{lemma}

\begin{proof}
	We will firstly split the graph on the projective plane by a five cycle, which can be seen on a picture \ref{}. So we obtain a 10-cycle $A,B,C,D,E,A',B',C',D',E'$. And then we will redraw the graph so that the 10-cycle is on the outer face. Now we will construct a flow between the faces. The orientation is that if we have an $ab$ colored edge where $b < a$, then the orientation is shown on the picture \ref{}.
	
	\begin{observ}
		Total flow through the outer face is $0 = 2 (n_1 - n_2)$
	\end{observ}
\end{proof}

\begin{observ}
	If we took triangulation instead of quadrangulation then it is not 4-color-\\able.
\end{observ}

\begin{lemma}
	$G$ planar triangulation graph where $u,v$ vertices have odd degree and all other vertices have even degree then $\forall$ 4-coloring $\varphi$ of $G$ it holds that $\varphi(u) = \varphi(v)$.
\end{lemma}

\begin{proof}
	Now we will consider the following triangle counting. We will be talking about counter-clockwise order of vertices.
	
	$$
	t_{a,b,c} = \text{\# of } abc \text{ triangles } - \text{\# of } acb \text{ triangles}
	$$
	
	We may see that $t_{a,b,c} = t_{b,c,d}$ and that follows for others as well. Now compute the following.
	
	$$
	t_{a,b,c} + t_{a,c,d} + t_{a,d,b} = 3 t_{a,b,c} \equiv \sum_{v : \varphi(v) = a} \deg(v) \mod 2
	$$
	
	Therefore if not sum includes $u$ it must also include $v$ because otherwise the sum will be odd and two even which is impossible.
\end{proof}

\begin{exerc}
	If $G$ is $k$-critical, then it is $2$-connected.
\end{exerc}

\begin{proof}[Solution]
	Lets take a graph $G$ which has $\chi(G) = k$ but for all $H \subsetneq G$ $\chi(H) = k-1$. If $G$ is not connected then one component must have the largest $\chi(G)$, but if we remove vertex or edge from other component we don't achieve $\chi(H)$. That is contradiction.
	
	Now assume it is 1-conencted. Therefore we have a vertex cut $M = \{v\}$ which splits the graph to two components $G_1$ and $G_2$. Lets fix graphs $G_1 \cup \{v\}$ and $G_2 \cup \{v\}$ where both of them have chromatic number $k - 1$ since they are subgraphs. Lets fix those colorings. Now for one coloring switch the colors so that $v$ has the same color for both colorings. Therefore we have $G$ colored by $k-1$ colors which is a contradiction.
\end{proof}

\begin{observ}
	If $G$ is $k$-critical, then it is $3$-connected.
\end{observ}

\begin{thm}[Korstochka, Tarcey]
	If $G$ is $(c+1)$-critical, then
	
	$$
	\bar{d} \geq c+1 - \frac{2}{c} - O\left( \frac{1}{|V(G)|}\right)
	$$
\end{thm}

\begin{thm}
	If $G$ is 4-critical, then
	
	$$
	|E(G)| \geq \frac{5 \cdot |V(G)| - 2}{3} \Rightarrow \bar{d} \geq \frac{10}{3} - \frac{4}{3 \cdot |V(G)|}
	$$
\end{thm}

Now for an application. Suppose $G$ is 4-critical plane graph. Let $f_i$ be the number of faces of length $i$ in a drawing of $G$. Therefore by Euler's formula we get the following.

$$
\begin{aligned}
	|V(G)| + |F(G)| &= |E(G)| + 2 \\
	|V(G)| + \sum_{i \geq 3} f_i &= |E(G)| + 2 \\
	\frac{5}{3}|V(G)| + \frac{5}{3}\sum_{i \geq 3} f_i &= \frac{5}{3}|E(G)| + \frac{10}{3} \\
	\frac{1}{3} \sum_{i \geq 3} i f_i &= \frac{2}{3} |E(G)| \\
	\frac{5}{3}|V(G)| + \frac{1}{3} \sum_{i \geq 3} (5-i) f_i &= |E(G)| + \frac{10}{3} \\
	|E(G)| &= \frac{5}{3} |V(G)| + \frac{1}{3} \sum_{i \geq 3} (5-i) f_i - \frac{10}{3} \\
	\frac{5}{3} |V(G)| - \frac{2}{3} &\leq \frac{5}{3} |V(G)| + \frac{1}{3} 2f_3 + \frac{1}{3} f_4 - \frac{10}{3}
\end{aligned}
$$

So if it is a 4-critical planar graph, then $2f_3 + f_4 \geq 8$.

\begin{proof}[Proof of theorem \ref{thm-grotsch}]
	Suppose there exists a triangle-free planar graph that is not 3-color-\\able. Choose one with $|V(H)| + |E(H)|$ minimal. Therefore $H$ is 4-critical. By the last application it has at least $8$ 4-faces.
\end{proof}